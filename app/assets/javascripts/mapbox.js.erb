// map.scrollWheelZoom.disable();

function addVenues (map, geojson)  {
  var addLayer = L.mapbox.featureLayer(geojson).addTo(map);
  // showMyLocation(map, myLayer);
}

function nearMe (map, geojson) {
  var newLayer = L.mapbox.featureLayer(geojson).addTo(map);
}

function addMapSearchTool (map) {
  map.addControl(L.mapbox.geocoderControl('mapbox.places'));
}


function sidebarNavigator (map) {
  $(".venue").on('click', 'h3', function () {
    var self = this;
    map.setView([self.dataset.lat,self.dataset.lng], 14)
  });
}

function findMyLocation (map) {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(onLocation, onError);
    console.log("Location Found!");
  }

  function onLocation (position) {
  $("#push_location").val([position.coords.latitude, position.coords.longitude]);
  }

  function onError (err) {
  alert("Could not locate your current position, " + err)
  }
}

// function addMyMarker (map) {
//   var coords = $("#push_location").val()
//   debugger
//   var marker = L.marker(new L.LatLng(parseInt(coords[0]),parseInt(coords[1])), {
//        icon: L.mapbox.marker.icon({
//            'marker-symbol': 'star',
//            'marker-size': 'large',
//            'marker-color': '#ff8888'
//        }),
//    });
// }


//my previous work
// function showMyLocation (map, layer) {
//   map.on('locationfound', function(e) {
//       map.fitBounds(e.bounds);

//       layer.setGeoJSON({
//           type: 'Feature',
//           geometry: {
//               type: 'Point',
//               coordinates: [e.latlng.lng, e.latlng.lat]
//           },
//           properties: {
//               'title': 'Current location!',
//               'marker-color': '#ff8888',
//               "marker-size": "large",
//               'marker-symbol': 'star'
//           }
//       });
//   });

//   map.on('locationerror', function() {
//     alert('Position could not be found');
//   });

// }
